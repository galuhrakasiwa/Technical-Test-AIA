function cov_5rsh6rp92(){var path="/home/acredia/newP/stackOverFlow/strategi/jsonwebtoken.js";var hash="ce66a897cab6e4b51994a3440417fd143f057560";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/acredia/newP/stackOverFlow/strategi/jsonwebtoken.js",statementMap:{"0":{start:{line:1,column:20},end:{line:1,column:52}},"1":{start:{line:2,column:19},end:{line:2,column:54}},"2":{start:{line:3,column:17},end:{line:3,column:37}},"3":{start:{line:4,column:13},end:{line:4,column:37}},"4":{start:{line:5,column:14},end:{line:5,column:42}},"5":{start:{line:9,column:13},end:{line:9,column:15}},"6":{start:{line:10,column:0},end:{line:10,column:63}},"7":{start:{line:11,column:0},end:{line:11,column:32}},"8":{start:{line:15,column:0},end:{line:26,column:1}},"9":{start:{line:16,column:4},end:{line:25,column:8}},"10":{start:{line:17,column:8},end:{line:24,column:39}},"11":{start:{line:19,column:12},end:{line:21,column:13}},"12":{start:{line:20,column:16},end:{line:20,column:39}},"13":{start:{line:22,column:12},end:{line:22,column:36}},"14":{start:{line:24,column:22},end:{line:24,column:38}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:15,column:17},end:{line:15,column:18}},loc:{start:{line:15,column:29},end:{line:26,column:1}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:39},end:{line:16,column:40}},loc:{start:{line:16,column:62},end:{line:25,column:5}},line:16},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:14},end:{line:18,column:15}},loc:{start:{line:18,column:22},end:{line:23,column:9}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:22},end:{line:24,column:38}},line:24}},branchMap:{"0":{loc:{start:{line:19,column:12},end:{line:21,column:13}},type:"if",locations:[{start:{line:19,column:12},end:{line:21,column:13}},{start:{line:19,column:12},end:{line:21,column:13}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ce66a897cab6e4b51994a3440417fd143f057560"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5rsh6rp92=function(){return actualCoverage;};}return actualCoverage;}cov_5rsh6rp92();const JwtStrategy=(cov_5rsh6rp92().s[0]++,require('passport-jwt').Strategy);const ExtractJwt=(cov_5rsh6rp92().s[1]++,require('passport-jwt').ExtractJwt);const mongoose=(cov_5rsh6rp92().s[2]++,require('mongoose'));const User=(cov_5rsh6rp92().s[3]++,mongoose.model('myUser'));const myKey=(cov_5rsh6rp92().s[4]++,require('../setup/mongodb'));const opts=(cov_5rsh6rp92().s[5]++,{});cov_5rsh6rp92().s[6]++;opts.jwtFromRequest=ExtractJwt.fromAuthHeaderAsBearerToken();cov_5rsh6rp92().s[7]++;opts.secretOrKey=myKey.secret;//myKey.secret
cov_5rsh6rp92().s[8]++;module.exports=passport=>{cov_5rsh6rp92().f[0]++;cov_5rsh6rp92().s[9]++;passport.use(new JwtStrategy(opts,(jwt_payload,done)=>{cov_5rsh6rp92().f[1]++;cov_5rsh6rp92().s[10]++;User.findById(jwt_payload.id).then(user=>{cov_5rsh6rp92().f[2]++;cov_5rsh6rp92().s[11]++;if(user){cov_5rsh6rp92().b[0][0]++;cov_5rsh6rp92().s[12]++;return done(null,user);}else{cov_5rsh6rp92().b[0][1]++;}cov_5rsh6rp92().s[13]++;return done(null,false);}).catch(err=>{cov_5rsh6rp92().f[3]++;cov_5rsh6rp92().s[14]++;return console.log(err);});}));};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzb253ZWJ0b2tlbi5qcyJdLCJuYW1lcyI6WyJKd3RTdHJhdGVneSIsInJlcXVpcmUiLCJTdHJhdGVneSIsIkV4dHJhY3RKd3QiLCJtb25nb29zZSIsIlVzZXIiLCJtb2RlbCIsIm15S2V5Iiwib3B0cyIsImp3dEZyb21SZXF1ZXN0IiwiZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuIiwic2VjcmV0T3JLZXkiLCJzZWNyZXQiLCJtb2R1bGUiLCJleHBvcnRzIiwicGFzc3BvcnQiLCJ1c2UiLCJqd3RfcGF5bG9hZCIsImRvbmUiLCJmaW5kQnlJZCIsImlkIiwidGhlbiIsInVzZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJ1eUVBZVk7eUZBZlosS0FBTUEsQ0FBQUEsV0FBVyx5QkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBUCxDQUF3QkMsUUFBM0IsQ0FBakIsQ0FDQSxLQUFNQyxDQUFBQSxVQUFVLHlCQUFHRixPQUFPLENBQUUsY0FBRixDQUFQLENBQXlCRSxVQUE1QixDQUFoQixDQUNBLEtBQU1DLENBQUFBLFFBQVEseUJBQUdILE9BQU8sQ0FBRSxVQUFGLENBQVYsQ0FBZCxDQUNBLEtBQU1JLENBQUFBLElBQUkseUJBQUdELFFBQVEsQ0FBQ0UsS0FBVCxDQUFlLFFBQWYsQ0FBSCxDQUFWLENBQ0EsS0FBTUMsQ0FBQUEsS0FBSyx5QkFBR04sT0FBTyxDQUFFLGtCQUFGLENBQVYsQ0FBWCxDQUlBLEtBQU1PLENBQUFBLElBQUkseUJBQUcsRUFBSCxDQUFWLEMsdUJBQ0FBLElBQUksQ0FBQ0MsY0FBTCxDQUFzQk4sVUFBVSxDQUFDTywyQkFBWCxFQUF0QixDLHVCQUNBRixJQUFJLENBQUNHLFdBQUwsQ0FBbUJKLEtBQUssQ0FBQ0ssTUFBekIsQ0FBbUM7dUJBSW5DQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJDLFFBQVEsRUFBSSwrQ0FDekJBLFFBQVEsQ0FBQ0MsR0FBVCxDQUFhLEdBQUloQixDQUFBQSxXQUFKLENBQWdCUSxJQUFoQixDQUFzQixDQUFDUyxXQUFELENBQWNDLElBQWQsR0FBdUIsZ0RBQ3REYixJQUFJLENBQUNjLFFBQUwsQ0FBY0YsV0FBVyxDQUFDRyxFQUExQixFQUNDQyxJQURELENBQ01DLElBQUksRUFBSSxnREFDVixHQUFJQSxJQUFKLENBQVUsbURBQ04sTUFBT0osQ0FBQUEsSUFBSSxDQUFDLElBQUQsQ0FBT0ksSUFBUCxDQUFYLENBQ0gsQ0FGRCxnQ0FEVSx3QkFJVixNQUFPSixDQUFBQSxJQUFJLENBQUMsSUFBRCxDQUFPLEtBQVAsQ0FBWCxDQUNILENBTkQsRUFPQ0ssS0FQRCxDQU9PQyxHQUFHLEVBQUksc0RBQUFDLENBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixHQUFaLEVBQWdCLENBUDlCLEVBUUgsQ0FUWSxDQUFiLEVBVUgsQ0FYRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEp3dFN0cmF0ZWd5ID0gcmVxdWlyZSgncGFzc3BvcnQtand0JykuU3RyYXRlZ3k7XG5jb25zdCBFeHRyYWN0Snd0ID0gcmVxdWlyZSAoJ3Bhc3Nwb3J0LWp3dCcpLkV4dHJhY3RKd3Q7XG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUgKCdtb25nb29zZScpXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ215VXNlcicpXG5jb25zdCBteUtleSA9IHJlcXVpcmUgKCcuLi9zZXR1cC9tb25nb2RiJylcblxuXG5cbmNvbnN0IG9wdHMgPSB7fVxub3B0cy5qd3RGcm9tUmVxdWVzdCA9IEV4dHJhY3RKd3QuZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuKCk7XG5vcHRzLnNlY3JldE9yS2V5ID0gbXlLZXkuc2VjcmV0OyAgIC8vbXlLZXkuc2VjcmV0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhc3Nwb3J0ID0+IHtcbiAgICBwYXNzcG9ydC51c2UobmV3IEp3dFN0cmF0ZWd5KG9wdHMsIChqd3RfcGF5bG9hZCwgZG9uZSkgPT4ge1xuICAgICAgICBVc2VyLmZpbmRCeUlkKGp3dF9wYXlsb2FkLmlkKVxuICAgICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgdXNlcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgfSApKVxufVxuIl19